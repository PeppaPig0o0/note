### 肯德基店铺分布爬取

```python
import time  # python标准库
import requests
import json  # python标准库
url = 'http://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=cname'
headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36'
}
citys = ['通辽', '洛阳', '芜湖', '蚌埠']
fp = open('肯德基城市分布.txt', 'a+', encoding='utf-8')

for city in citys:
    print(f'正在爬取{city}')
    for i in range(1, 21):
        data = {
            'cname': city,
            'pid': '',
            'pageIndex': i,
            'pageSize': '50'
        }
        time.sleep(1.5)
        response = requests.post(url=url, headers=headers, data=data , timeout=3)  # !!!!!!

        a = json.loads(response.text)
        #print(a['Table1'])

        for shop in a['Table1']:
            print(shop)
            fp.write( str(shop)+'\n' )

fp.close()

```

